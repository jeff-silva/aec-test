(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{1734:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product",function(){return a(9731)}])},8243:function(e,s,a){"use strict";var r=a(7294),t=a(5121);s.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s={q:"",limit:20},a={paging:{total:0,primary_results:0,offset:0,limit:0},results:[]};(e={params:s,...e}).params={...s,...e.params};let[i,l]=(0,r.useState)(!1),[n,d]=(0,r.useState)(e.params),[u,c]=(0,r.useState)(a),m=async()=>{l(!0);try{let{data:e}=await (0,t.Z)({method:"get",url:"https://api.mercadolibre.com/sites/MLB/search",params:n});return e.results=e.results.map(e=>({id:e.id,title:e.title,price:e.price,thumbnail:e.thumbnail})),c(e),e}catch(e){c(a)}finally{l(!1)}};return{busy:i,params:n,paramsUpdate:e=>{d(s=>({...s,...e}))},setParams:d,response:u,submit:m}}},9731:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var r=a(5893),t=a(9008),i=a.n(t),l=a(7294),n=a(1954),d=a(1163),u=a(8243),c=a(1205);function m(){let e=(0,d.useRouter)(),s=(0,u.Z)({params:{q:"",limit:20,...e.query}});return(0,l.useEffect)(()=>{s.paramsUpdate({...e.query})},[e.query]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{s.submit()},1e3);return()=>clearTimeout(e)},[s.params]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Test"})}),(0,r.jsxs)("main",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"container mx-auto",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,r.jsx)("div",{className:"col-span-12 lg:col-span-1",children:(0,r.jsxs)("form",{onSubmit:a=>{a.preventDefault(),s.submit(),e.push({query:{...s.params}})},children:[(0,r.jsxs)("div",{className:"flex items-center border",children:[(0,r.jsx)("input",{type:"text",className:"grow p-3",value:s.params.q,onInput:e=>{let a=e.target;s.paramsUpdate({q:a.value})}}),(0,r.jsx)("button",{type:"button",className:"px-2",children:(0,r.jsx)(n.JO,{icon:s.busy?"line-md:loading-loop":"material-symbols:search",height:"30"})})]}),(0,r.jsx)("div",{className:"h-12 bg-gray-200 rounded mt-4"}),(0,r.jsx)("div",{className:"h-12 bg-gray-200 rounded mt-4"}),(0,r.jsx)("div",{className:"h-12 bg-gray-200 rounded mt-4"}),(0,r.jsx)("div",{className:"h-12 bg-gray-200 rounded mt-4"}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{type:"submit",className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Buscar"})})]})}),(0,r.jsx)("div",{className:"col-span-12 lg:col-span-3",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3",children:[s.busy&&(0,r.jsx)(r.Fragment,{children:[...Array(6)].map((e,s)=>(0,r.jsxs)("div",{className:"border p-3 animate-pulse",style:{height:350},children:[(0,r.jsx)(n.JO,{icon:"material-symbols:image-rounded",className:"mx-auto text-gray-200",height:"140"}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[480px] mb-2.5"}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[440px] mb-2.5"})]},s))}),s.response.results.map(e=>(0,r.jsx)(c.Z,{product:e},e.id))]})})]})})]})]})}},1163:function(e,s,a){e.exports=a(2937)}},function(e){e.O(0,[448,774,888,179],function(){return e(e.s=1734)}),_N_E=e.O()}]);